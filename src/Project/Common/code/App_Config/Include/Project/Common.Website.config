<?xml version="1.0"?>

<configuration xmlns:patch="http://www.sitecore.net/xmlconfig/">
    <sitecore>
        <coveo>
            <defaultIndexConfiguration>
                <fieldMap>
                    <externalFields hint="raw:AddExternalField">
                        <field fieldName="syslanguage"/>
                        <field fieldName="sysfiletype"/>
                        <field fieldName="sysdate"/>
                    </externalFields>
                    <fieldNames hint="raw:AddFieldByFieldName">
                        <fieldType fieldName="title" isFacet="true" settingType="Coveo.Framework.Configuration.FieldConfiguration, Coveo.Framework" />
                        <fieldType fieldName="metakeywords" isMultiValue="true" settingType="Coveo.Framework.Configuration.FieldConfiguration, Coveo.Framework" />
                    </fieldNames>
                </fieldMap>
                <documentOptions>
                    <fields hint="raw:AddComputedIndexField">
                        <field fieldName="imageUrl" sourceField="image">Coveo.SearchProvider.ComputedFields.ImageUrlComputedField, Coveo.SearchProviderBase</field>
                        <field fieldName="imageAlt" sourceField="image">Coveo.SearchProvider.ComputedFields.ImageAltComputedField, Coveo.SearchProviderBase</field>
                        <field fieldName="metakeywords" sourceField="metaKeywords" referencedFieldName="keyword">Coveo.SearchProvider.ComputedFields.ReferencedFieldComputedField, Coveo.SearchProviderBase</field>
                    </fields>
                </documentOptions>
            </defaultIndexConfiguration>
        </coveo>
        <sc.variable name="rootHostName" value="Coveo.dev.local" />
        <settings>
            <setting name="Analytics.CookieDomain" value="$(rootHostName)" />
        </settings>
        <events>
            <event name="publish:end">
                <handler type="Sitecore.Publishing.HtmlCacheClearer, Sitecore.Kernel" method="ClearCache">
                    <sites hint="list">
                        <site>
                            <patch:delete/>
                        </site>
                    </sites>
                </handler>
            </event>
            <event name="publish:end:remote">
                <handler type="Sitecore.Publishing.HtmlCacheClearer, Sitecore.Kernel" method="ClearCache">
                    <sites hint="list">
                        <site>
                            <patch:delete/>
                        </site>
                    </sites>
                </handler>
            </event>
        </events>
        <sites>
            <site name="website">
                <patch:delete/>
            </site>
        </sites>
        <cacheSizes>
            <sites>
                <website>
                    <patch:delete />
                </website>
            </sites>
        </cacheSizes>
    </sitecore>
</configuration>